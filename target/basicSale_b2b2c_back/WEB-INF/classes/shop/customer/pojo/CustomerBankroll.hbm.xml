<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!--
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="shop.customer.pojo.CustomerBankroll" table="shop_customer_bankroll" dynamic-insert="true" dynamic-update="true">
        <id name="bankrollId" type="java.lang.Integer">
            <column name="bankrollId"  precision="10" />
            <generator class="native"></generator>
        </id>
        <property name="customerId" type="java.lang.Integer">
            <column name="customerId" length="10"  not-null="true">
                <comment>用户ID</comment>
            </column>
        </property>
        <property name="balance" type="java.math.BigDecimal">
            <column name="balance" precision="10" scale="2" >
                <comment>余额</comment>
            </column>
        </property>
        <property name="rechargeBalance" type="java.math.BigDecimal">
            <column name="rechargeBalance" precision="10" scale="2" >
                <comment>普通充值余额</comment>
            </column>
        </property>
        <property name="sumAmount" type="java.math.BigDecimal">
            <column name="sumAmount" precision="10" scale="2" >
                <comment>消费总金额</comment>
            </column>
        </property>
        <property name="mallCoin" type="java.math.BigDecimal">
            <column name="mallCoin" default="0.00" precision="10" scale="2" >
                <comment>积分余额</comment>
            </column>
        </property>
    </class>
    <!--获得用户现金钱包余额-->
    <sql-query name="getBalanceByCustomerId" callable="true">
        <query-param name="customer_id" type="java.lang.Integer"></query-param>
        <query-param name="balanceNow" type="java.math.BigDecimal"></query-param>
        {call getBalanceByCustomerId(?,?)}
    </sql-query>

    <!--获得用户现金钱包总积分-->
    <sql-query name="getCoinBalanceByCustomerId" callable="true">
        <query-param name="customer_id" type="java.lang.Integer"></query-param>
        <query-param name="@mallCoinNow" type="java.math.BigDecimal"></query-param>
        {call getBalanceCoinByCustomerId(?,?)}
    </sql-query>

    <!--获得用户现金钱包中的充值总额-->
    <sql-query name="getBalanceRechargeByCustomerId" callable="true">
        <query-param name="customer_id" type="java.lang.Integer"></query-param>
        <query-param name="@rechargeBalanceNow" type="java.math.BigDecimal"></query-param>
        {call getBalanceRechargeByCustomerId(?,?)}
    </sql-query>

    <!--同步用户现金钱包数据-->
    <sql-query name="shopCustomerBankRollBalanceSync" callable="false">
        {call shopCustomerBankRollBalanceSync()}
    </sql-query>
    <!--同步用户现金钱包数据-->
    <sql-query name="shopCustomerBankRollMallCoinSync" callable="false">
        {call shopCustomerBankRollMallCoinSync()}
    </sql-query>
    <!--删除过期的已同步的财务记录，传入参数【过期的天数】-->
    <sql-query name="deleteExpiredFinanceSynced" callable="false">
        <query-param name="beforeSeconds" type="java.lang.Integer"></query-param>
        {call deleteExpiredFinanceSynced(?)}
    </sql-query>
</hibernate-mapping>
